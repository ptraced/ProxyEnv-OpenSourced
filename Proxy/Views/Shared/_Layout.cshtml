@using Microsoft.AspNetCore.Identity
@using IdentityManagerUI.Models
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
	<meta charset="utf-8" />
	<title>@ViewData["Title"] | ProxyEnv Service</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta content="Premium proxies" name="description" />
	<meta content="WittLowry" name="author" />
	<script>
		function updateTime() {
			var timeElements = document.querySelectorAll('.time-ago[data-last-scan]');
			timeElements.forEach(function (el) {
				var lastScanUTC = new Date(el.getAttribute('data-last-scan'));
				var nowUTC = new Date(new Date().toISOString());
				var timeElapsed = nowUTC - lastScanUTC;

				// Convert timeElapsed to a TimeSpan-like object
				var seconds = Math.floor(timeElapsed / 1000);
				var minutes = Math.floor(seconds / 60);
				var hours = Math.floor(minutes / 60);
				var days = Math.floor(hours / 24);

				seconds %= 60;
				minutes %= 60;
				hours %= 24;

				var timeAgo;


				timeAgo = days + 'd' + ":" + hours + 'h' + ":" + minutes + 'm' + ":" + seconds + 's';

				el.textContent = timeAgo;
			});
		}

		// Update the time every second
		setInterval(updateTime, 1000);
	</script>
	<!-- ================== BEGIN core-css ================== -->
	<link href="~/assets/css/vendor.min.css" rel="stylesheet">
	<link href="~/assets/css/app.min.css" rel="stylesheet">
	<!-- ================== END core-css ================== -->

</head>

<body>
	<!-- BEGIN #app -->
	<div id="app" class="app">
		<!-- BEGIN #header -->
		<div id="header" class="app-header">
			<!-- BEGIN brand -->
			<div class="brand">
				<a href="#" class="brand-logo">
					<span class="brand-img">
						<span class="brand-img-text text-theme">P</span>
					</span>
					<span class="brand-text">ProxyENV</span>
				</a>
			</div>
			<!-- BEGIN menu-search -->
			<form class="menu-search" method="POST" name="header_search_form">
				<div class="menu-search-container">
					<div class="menu-search-icon"><i class="bi bi-search"></i></div>
					<div class="menu-search-input">
						<input type="text" class="form-control form-control-lg" placeholder="Search menu...">
					</div>
					<div class="menu-search-icon">
						<a href="#" data-toggle-class="app-header-menu-search-toggled" data-toggle-target=".app"><i class="bi bi-x-lg"></i></a>
					</div>
				</div>
			</form>
			<!-- END menu-search -->
		</div>
		<!-- END #header -->
		<!-- BEGIN #content -->
		<div id="content" class="app-content">
			<ul class="breadcrumb">

				<li class="breadcrumb-item active">Proxies</li>
			</ul>

			<h1 class="page-header">
				@ViewData["Title"]
			</h1>

			<p>
				@RenderBody()
			</p>
		</div>

		<footer class="footer">
			<div class="container-fluid">
				<div class="row">
					<div class="col-sm-6">
						<script>document.write(new Date().getFullYear())</script> © ProxyEnv.net
					</div>
					<div class="col-sm-6">
						<div class="text-sm-end d-none d-sm-block">
							Designed & Developed with ❤️ Version: 1.4
						</div>
					</div>
				</div>
			</div>
		</footer>
		<!-- END #content -->
		<!-- BEGIN btn-scroll-top -->
		<a href="#" data-toggle="scroll-to-top" class="btn-scroll-top fade"><i class="fa fa-arrow-up"></i></a>
		<!-- END btn-scroll-top -->
	</div>
	<!-- END #app -->
	<!-- ================== BEGIN core-js ================== -->
	<script src="~/assets/js/vendor.min.js"></script>
	<script src="~/assets/js/app.min.js"></script>
	<script
      src="https://code.jquery.com/jquery-3.6.3.js"
      integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
      crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://cdn.datatables.net/select/1.2.5/js/dataTables.select.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.5.1/js/dataTables.buttons.min.js"></script>


    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<!-- ================== END core-js ================== -->
	@await RenderSectionAsync("Scripts", required: false)
</body>
</html>
